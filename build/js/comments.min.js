angular.module("be.comments",[]).filter("initials",function(){return function(t){var e="",n=_.words(t);return n.length&&(e=_.map(_.map(_.words(t),_.capitalize),_.first).join("")),e}}).service("commentsService",["$timeout",function(t){this.scrollToBottom=function(e){t(function(){e.scrollTop=e.scrollHeight},100)}}]).controller("commentsController",["$scope","commentsService",function(t,e){var n=this,m=t;this.init=function(t){n.$element=t[0].getElementsByClassName("comment_container")[0],e.scrollToBottom(n.$element)},m.submitAComment=function(){if(""!==t.commentText&&void 0!==t.commentText){var m={text:t.commentText,email:t.email};t.name&&(m.name=t.name),t.callback({comment:m}),t.commentsData.push(m),t.commentText="",e.scrollToBottom(n.$element)}},m.$watch("commentsData",function(){e.scrollToBottom(n.$element)})}]).directive("comments",function(){return{restrict:"E",scope:{commentsData:"=",callback:"&",email:"=",name:"=?"},controller:"commentsController",link:function(t,e,n,m){m.init(e)},templateUrl:"be.comments.html"}}),angular.module("be.comments").run(["$templateCache",function(t){t.put("be.comments.html",'<div class="section_content_container"><div class="section_content with_padding with_top_padding"><div class="comment_section_container"><div class="comment_section_title"><ng-pluralize count="commentsData.length" when="{\'0\': \'Comments\', \'1\': \'1 Comment\', \'other\': \'{} Comments\'}"></ng-pluralize></div><div class="comment_container"><table ng-class="{contacts_comment: c.email !== email, user_comment: c.email === email}" ng-repeat="c in commentsData"><tbody><tr><td colspan="2" class="time_stamp" ng-hide="true">thu 2:08 pm</td></tr><tr><td><div ng-if="c.email !== email">{{ c.name | initials }}</div></td><td><div class="comment">{{ c.text }}</div></td><td></td></tr></tbody></table></div><div class="comment_input"><ng-form name="commentForm" ng-submit="submitAComment()"><div class="form-group"><div class="input-group"><input name="commentText" type="text" class="form-control" id="commentText" placeholder="Write a comment..." ng-model="commentText"> <a class="input-group-addon" ng-click="submitAComment()"><i class="fa fa-comment-o" ng-if="commentText.length == 0 || !commentText"></i><i class="fa fa-comment" ng-if="commentText.length > 0"></i></a></div></div></ng-form></div></div></div></div>')}]);
//# sourceMappingURL=comments.min.js.map